program Brandt


sequence Choose {
	when (receive (Packet p)) { 
		// During a sequence we should not add meta neighbors as the connector numbers can be swapped! So only do this at DEFAULT or INIT operation state
		meta.neighborHook (p.metaID,p.connDest);
	} 
	
	do {
		meta.broadcastMetaNeighbors();
	}
	until(20);
	
	 
	do { 
		// UP 
		try region FlipThrough orientating BOTTOM_RIGHT from Top excluding TopLeft,Left,Bottom;
		try region FlipAlong orientating BOTTOM_RIGHT from Right,TopRight excluding Top;
		try region FlipThrough orientating LEFT_BOTTOM from Right excluding Top, TopRight;
		// 
		// // DIAGONAL DOWN
		// try region FlipThrough orientating TOP_RIGHT from Bottom excluding Left, Top;
		// try region FlipOver orientating TOP_RIGHT from Bottom,Left excluding Top;
		// try region FlipThrough orientating RIGHT_TOP from Left excluding Top,Bottom;
	}	
}
 


                                                                                        



